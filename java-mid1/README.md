# JAVA - mid1 (3/7)

## 오브젝트 클래스

### java.lang Package
자바에서 기본으로 제공하는 라이브러리 중에서도 가장 기본이 되는 패키지

#### java.lang의 대표격 클래스들
* Object: 모든 자바 객체의 부모 클래스
* String: 문자열
* Integer, Long, Double: 래퍼 타입, 기본형 타입을 객체로 만든 것
* Class: 클래스 메타 정보
* System: 시스템 관련 기본 기능들 제공

#### Object 클래스가 최상위 클래스인 이유
* 공통 기능 제공
  + toString(): 객체의 정보를 제공
  + equals(): 객체의 같음을 비교
  + getClass(): 객체의 클래스 정보 제공
  + 기타 등등
* 다형성 기본 구현
    + Object는 최상위 클래스로서 모든 자바 객체는 Object 타입으로 처리될 수 있다.

> Implicit vs Explicit
> > Implicit: 개발자가 직접 구현하지 않아도 시스템 또는 컴파일러에 의해 자동으로 수행되는 것  
> > Explicit: 개발자가 직접 구현해 작동시키는 것

#### Object 다형성의 장점
어떤 객체든 인자로 전달할 수 있다.

#### Object 다형성의 한계
하위 클래스의 메서드는 Object에 존재할 수 없어 호출할 수 없다.  
(다운캐스팅이 필요하다.) (오버라이딩도 할 수 없다.)

### Object 배열
Object[]를 만들면 세상의 모든 객체를 담을 수 있는 배열이 생성됨.

### toString()
```java
public String toString() {
  return getClass().getName() + "@" + Integer.toHexString(hashCode());
}
```
객체의 정보를 문자열 형태로 제공해 디버깅과 로깅에 유용하다.  
Object 클래스에 정의되어있어 모든 클래스에서 상속 받아 사용할 수 있다.

### Object와 OCP
Object와 toString()이 없다면 관계가 없는 객체의 정보를 출력하는건 매우 번거로웠을 것.  
각각의 클래스마다 객체 정보를 호출할 수 있는 메서드를 만들어야 했을수도 있다.

#### 정적 의존관계 vs 동적 의존관계
* 정적 의존관계는 컴파일 시간에 결정되며, 주로 클래스 간 관계를 의미함. 프로그램을 실행하지 않고 클래스 내에서 사용하는 타입들로 쉽게 의존관계를 파악할 수 있다.
* 동적 의존관계는 프로그램을 실행하는 런타임에 확인할 수 있다. 런타임에 어떤 인스턴스를 사용하는지 나타내는 것이 동적 의존관계다.

### equals(), 등일성과 동등성
* 동일성(Identify): == 연산자를 사용해 두 객체의 참조가 동일한 객체를 가리키고 있는지
* 동등성(Equality): equals() 메서드를 사용하여 두 객체가 논리적으로 동등한지

#### 정확한 equals() 구현 규칙
* 반사성(Reflexivity): 객체는 자기 자신과 동등해야 함
* 대칭성(Symmetry): 두 객체가 서로 동일하다고 판단하면 양방향으로 동일해야 함
* 추이성(Transitivity): 1번 객체가 2번객체와 동일하고 2번 객체가 3번 객체와 동일하면 1번 객체는 3번 객체와 동일해야 함
* 일관성(Consistency): 두 객체의 상태가 변경되지 않는 한, equals() 메서드는 항상 동일한 값을 반환해야 함
* null에 대한 비교: 모든 객체는 null과 비교했을 때 false를 반환해야 함

## 불변 객체

### 기본형과 참조형의 공유
* 기본형(Primitive Type): 하나의 값을 여러 변수에서 절대로 공유하지 않음
* 참조형(Reference Type): 하나의 객체를 참조값을 통해 여러 변수에서 공유할 수 있음

#### 공유 참조와 사이드 이펙트(Side Effect: 부작용)
주 목적을 가진 작업 외에 부수 효과를 가진 사이드 이펙트는 변경이 의도치 않게 다른 부분에 영향을 미치는 경우로 디버깅이 어려워지고 코드의 안정성이 저하될 수 있다.

* 해결 방안: 공유 참조에서의 사이드 이펙트를 제외시키는 좋은 방법은 서로 다른 인스턴스를 참조하게 하는 것.

### 불변 객체 도입
객체의 상태(객체 내부의 값, 필드, 멤버 변수)가 변하지 않는 객체는 불변 객체(Immutable Object).

### 불변 객체 값 변경
불변 객체를 사용함에도 값을 변경해야하는 메서드가 필요하다면 return value를 새로운 객체에 던져 넘긴다.

## String 클래스 - 기본
* char
* String
